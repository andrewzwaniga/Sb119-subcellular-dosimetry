
# Andrew Zwaniga PhD Thesis Work

# Purpose: Simulate a point source of I123 decaying in a water sphere of radius 10000 nm.
# (1) Use avg-mird-07 and G4_WATER
# (2) Score the dose to water as a function of radius. 
# (3) Use g4em-livermore and g4radioactivedecay

# Remark: This TOPAS script was written using /Users/azwaniga/phd/dissertation/119Sb/notebooks/phase-1/dpk/make-topas-scripts.py

# ------------ MATERIALS ------------ #

# ------------ GEOMETRY ------------ #
# ------------ World ------------ #
d:Ge/World/HLX = 10000. nm
d:Ge/World/HLY = 10000. nm
d:Ge/World/HLZ = 10000. nm
s:Ge/World/DrawingStyle = "FullWireFrame"
s:Ge/World/Material="Vacuum"

# ------------ Water Sphere ------------ #
s:Ge/WaterSphere/Type = "TsSphere"
s:Ge/WaterSphere/Parent = "World"
s:Ge/WaterSphere/Material = "G4_WATER"
d:Ge/WaterSphere/RMin = 1 nm
d:Ge/WaterSphere/RMax = 10000 nm
i:Ge/WaterSphere/RBins = 100
d:Ge/WaterSphere/SPhi = 0. deg
d:Ge/WaterSphere/DPhi = 360. deg
d:Ge/WaterSphere/STheta = 0. deg
d:Ge/WaterSphere/DTheta = 180. deg
s:Ge/WaterSphere/Color = "blue"

# ------------ SOURCE ------------ #

s:So/I123AveragedElectrons/BeamEnergySpectrumType = "Discrete"
dv:So/I123AveragedElectrons/BeamEnergySpectrumValues = 259 22.9238 24.926099999999998 121.02000000000001 295.78299999999996 449.49399999999997 541.188 687.637 3084.75 3678.86 4295.24 22665.3 26505.600000000002 30346.100000000002 127165.0 142395.0 150805.0 154056.0 154352.0 154630.0 158155.0 158970.0 160365.0 165415.0 166425.0 169286.0 169582.0 169860.0 173385.0 174200.0 174985.0 175995.0 177696.0 177992.0 178270.0 181795.0 182610.0 187256.0 187552.0 187830.0 191355.0 192170.0 192306.0 192602.0 192880.0 193316.0 193612.0 193890.0 196405.0 197220.0 197415.0 198230.0 201876.0 202172.0 202450.0 202886.0 203182.0 203460.0 205975.0 206790.0 206985.0 207800.0 216155.0 225705.0 243046.0 243342.0 243620.0 246555.0 247145.0 247960.0 249225.0 252596.0 252892.0 253170.0 253515.0 256695.0 257510.00000000003 263365.0 273446.0 273742.0 274020.0 276116.0 276412.0 276690.0 277545.0 278360.0 280215.0 280406.0 280702.0 280980.0 281030.0 284505.0 285320.0 290256.0 290552.0 290830.0 294355.0 295170.0 297575.0 298895.0 311925.0 314545.0 324466.0 324762.0 325040.0 325786.0 326082.0 326360.0 328565.0 329380.0 329885.0 330700.0 338816.0 339112.0 339390.0 341436.0 341732.0 342010.0 342915.0 343730.0 345535.0 346350.0 373215.0 400106.0 400402.0 400680.0 404205.0 405020.0 405695.0 408215.0 422955.0 432586.0 432882.0 433160.0 435106.0 435402.0 435680.0 436685.0 437500.0 439205.0 440020.0 449846.0 450142.0 450420.0 453945.0 454760.0 473525.0 497155.0 500416.0 500712.00000000006 500990.00000000006 504515.00000000006 505329.99999999994 506735.00000000006 524046.0 524244.99999999994 524342.0 524620.0 528145.0 528960.0 530985.0 533626.0 533922.0 534200.0 537725.0 538540.0 546455.0 551136.0 551432.0 551710.0 555235.0 556050.0 557876.0 558172.0 558450.0 561975.0 562790.0 567885.0 573346.0 573642.0 573920.0 577445.0 578245.0 578260.0 592765.0 594776.0 595072.0 595350.0 596455.0 598875.0 599690.0 605136.0 605432.0 605710.0 609235.0 610050.0 619656.0 619952.0 620230.0 623346.0 623642.0 623755.0 623920.0 624570.0 627445.0 628260.0 656145.0 683036.0 683332.0 683610.0 687135.0 687950.0 703975.0 730866.0 731162.0 731440.0 734965.0 735780.0 751785.0 778676.0 778972.0 779250.0 782775.0 783590.0 805295.0 832186.0 832482.0 832760.0 836285.0 837100.0 845715.0 862995.0 872606.0 872902.0 873180.0 876705.0 877315.0 877520.0 889886.0 890182.0 890460.0 893985.0 894800.0 904206.0 904502.0 904780.0 908305.0 909120.0 1004820.0 1031720.0 1032010.0000000001 1032289.9999999999 1035820.0 1036310.0000000001 1036629.9999999999 1063210.0 1063500.0 1063780.0 1067310.0 1068120.0 eV
uv:So/I123AveragedElectrons/BeamEnergySpectrumWeights = 259 0.5241507491384404 0.1750715272911351 0.06031607048111135 0.011220874942889774 0.1348586499094643 0.0051972808993111545 1.956961787413415e-05 0.052968700681545064 0.01500025793576383 0.0010608684281575773 0.005822627024412111 0.0025645292840961453 0.00027007287238729315 0.009852749983598388 9.833204310976321e-08 1.3639417526047458e-06 0.0011783660490749476 7.721334052501382e-05 2.2371356614638823e-05 0.000256691659687766 6.13321569604459e-05 1.7250534636164025e-06 2.6924272223275447e-08 2.6924777093047974e-07 1.1767793155041528e-08 7.187607366263195e-10 1.8046786391690248e-10 2.5440099340556373e-09 6.079915872916521e-10 2.3407782133380838e-07 7.405718320419613e-08 1.6317246799523687e-07 9.838685754220885e-09 2.472311213931668e-09 3.52476274173871e-08 8.422886663552431e-09 2.0629123153905904e-07 1.2261050922799122e-08 3.084458600693739e-09 4.4521724517417836e-08 1.0637894604129046e-08 3.219064094474408e-09 1.8990243748034315e-10 4.780510902091201e-11 3.21899197022119e-08 1.8961610419506787e-09 4.773983657174977e-10 6.944007701019553e-10 1.659088621623261e-10 6.943171059682224e-09 1.6588722488636068e-09 2.7974761971394964e-08 1.627447711736544e-09 4.1028025691540097e-10 8.850222863868813e-09 5.141146593031619e-10 1.2963036279369475e-10 6.0289456631673925e-09 1.4403357616132036e-09 1.907152778141095e-09 4.556204474583362e-10 2.8196111304520865e-06 5.6786093155864984e-08 3.3620720637549695e-07 1.8466188924152652e-08 4.701679093323977e-09 5.9303878711450574e-08 7.21112708523757e-08 1.7229113732958293e-08 2.043258456388698e-06 5.985454738476965e-09 2.0763418513397737e-09 1.8515882534619828e-09 1.1552935004705239e-07 2.0259774853176757e-09 4.659356581535681e-10 3.5843806494486715e-08 7.059521904973429e-09 3.7263572419082163e-10 9.576441969520402e-11 2.42210552126665e-07 1.4908948631189902e-08 5.425395487388903e-09 1.508594154858676e-09 3.6054409313883144e-10 5.265546504981949e-08 1.2325457880922753e-08 3.763133398624051e-09 3.247206978080054e-09 1.2562241804237302e-08 3.942477566675818e-09 9.100133401269028e-10 4.26340164379443e-09 2.203619520993499e-10 5.693964569096601e-11 9.09299310020045e-10 2.1735797695282207e-10 4.459118017326673e-08 1.974704353705032e-07 6.504900822578e-08 1.888847642674378e-06 4.829944865246787e-09 1.2353297842664884e-09 1.0184305175641326e-09 2.1397318574930345e-08 5.445828288325549e-09 4.484008097112189e-09 1.4398885912432523e-09 3.3401967777539635e-10 6.3672588977368535e-09 1.477248954410153e-09 7.726959744252383e-09 3.7713772007668634e-10 9.897683393353173e-11 2.2427397159389177e-07 1.1103240285891289e-08 3.046550093202382e-09 1.6394924620239425e-09 3.9213379480576354e-10 4.7652061355583516e-08 1.1395848381196533e-08 2.68646254658642e-08 2.961378562577299e-09 5.871772490554825e-10 4.545097339587797e-10 8.104890831114468e-10 1.8923817310820578e-10 6.246919581242696e-09 3.1728829351389517e-06 2.963167244057104e-08 7.413219242754279e-10 3.279893689638431e-11 8.879577434928521e-12 3.569054245639856e-07 5.344875971096377e-08 3.8758491815530716e-08 1.5608842384416935e-10 3.737320128397345e-11 9.057075222097909e-08 2.1286247224974693e-08 3.5154442882229504e-09 1.5299068716845817e-10 4.167288863956183e-11 7.394034191398304e-10 1.770700903478046e-10 1.543055123046215e-06 7.263200796060934e-06 1.7267700208429898e-07 2.5897799851477515e-08 1.888501446258932e-08 4.385976812138345e-08 1.0308142518416554e-08 1.566683028400417e-06 8.59288352838715e-07 4.04270864137281e-09 3.502584533874189e-08 9.805364349234192e-09 1.8027961961600362e-07 4.3185478478048785e-08 4.864124548846777e-09 1.7597957163914912e-07 2.43034211098414e-08 1.7457819739912424e-08 4.386503319186836e-08 1.0329202800356198e-08 5.089152218886796e-09 4.516788570199749e-10 1.6720349250758836e-11 2.260958302301773e-11 9.750982662307854e-11 2.332483924218019e-11 5.746968682786476e-10 2.2782897603500473e-11 6.462275388926188e-12 1.2047202512007883e-10 2.8862395155748336e-11 9.952930571318125e-09 5.738212798445817e-10 7.222234220233134e-11 5.108452669047921e-11 1.4025354405016735e-10 3.1941163152863174e-09 3.3097242807693774e-11 2.535174713036438e-07 1.1743054536187769e-09 4.521555983337456e-11 1.3015614859965366e-11 5.45663971388292e-09 2.459646195066595e-10 5.89371990080905e-11 3.610785338551765e-10 4.2367300949544307e-11 2.9652444225497815e-11 8.704531872368545e-11 2.0574164472953824e-11 2.9199936660808363e-08 2.3520223844147628e-09 1.4420667436904346e-09 6.431600944032592e-10 2.422978224730587e-11 6.61103166118822e-09 7.059370444041671e-12 1.572085134966442e-09 1.3463217975435995e-10 3.2265073174065013e-11 7.429879945247627e-08 8.741243117256483e-09 3.1521039377868586e-10 9.413080535981733e-11 1.8274338410592895e-09 4.381274310828534e-10 1.461634053588466e-07 1.718641617505326e-08 5.989024889011255e-10 1.8258687447644598e-10 3.5868689361846913e-09 8.605000402927767e-10 1.210201694445353e-07 1.422232574055497e-08 4.796594610558806e-10 1.49350576108548e-10 2.9635062280472286e-09 7.114055052831525e-10 2.7413202535839967e-10 3.080080658523409e-11 8.22541045824167e-13 1.1715719444218164e-12 6.524569106430535e-12 1.5587277232704765e-12 1.704685574507652e-09 1.3792248818616303e-09 2.00157063802872e-10 6.353663476005269e-12 2.0623136840888817e-12 4.158129083797503e-11 1.9344373831334475e-09 9.994762638184541e-12 1.6191750598924444e-10 5.085394545294141e-12 1.6640796199459433e-12 3.36195666494982e-11 8.082965058136208e-12 2.270687864060875e-10 7.0697707613557e-12 2.3290940843167752e-12 4.7126996792156804e-11 1.1332667535377605e-11 1.0768655875213198e-09 1.2625278401549793e-10 3.652667892395432e-12 1.2789288953367423e-12 2.6111071268243004e-11 1.4263508689142422e-09 6.246732058184329e-12 1.671710365936403e-10 4.754697631864495e-12 1.690195812036165e-12 3.454679604886823e-11 8.261688957610302e-12 
s:So/I123AveragedElectrons/BeamParticle = "e-"
s:So/I123AveragedElectrons/Type = "Isotropic"
s:So/I123AveragedElectrons/Component = "WaterSphere"

s:So/I123AveragedPhotons/BeamEnergySpectrumType = "Discrete"
dv:So/I123AveragedPhotons/BeamEnergySpectrumValues = 94 13.6107 76.2238 278.5 296.0 533.6819999999999 574.5010000000001 3348.61 3472.61 3524.84 3627.1099999999997 3745.96 3756.95 3803.35 4024.4599999999996 4047.1099999999997 4099.349999999999 4165.37 4208.72 4218.79 4288.990000000001 4290.5199999999995 4320.46 4321.25 4330.49 4331.39 4331.46 4443.88 4497.29 4567.48 4599.74 4609.91 4783.22 4793.28 4863.49 4865.030000000001 4904.97 4905.879999999999 27186.8 27465.199999999997 30937.800000000003 30990.1 31211.2 31222.300000000003 31674.0 31684.1 31754.3 31755.899999999998 31795.700000000004 31796.699999999997 158970.0 174200.0 182610.0 190700.0 192170.0 197220.0 198230.0 206790.0 207800.0 247960.0 257510.00000000003 259000.0 278360.0 281030.0 285320.0 295170.0 329380.0 330700.0 343730.0 346350.0 405020.0 437500.0 440020.0 454760.0 505329.99999999994 528960.0 538540.0 556050.0 562790.0 578260.0 599690.0 610050.0 624570.0 628260.0 687950.0 735780.0 760850.0 783590.0 837100.0 877520.0 894800.0 898200.0 909120.0 1036629.9999999999 1068120.0 eV
uv:So/I123AveragedPhotons/BeamEnergySpectrumWeights = 94 0.8905875107422674 6.044835708002609e-06 9.381926578265293e-10 2.216465707899158e-07 0.0002559875466406748 3.511421517692133e-06 0.0002764847061965777 1.4675139888529972e-06 1.3703695484570246e-06 7.887604005324719e-05 0.00026505288402065767 0.0023500295828317946 1.0755888968011696e-06 0.0013514831794125262 0.000136966295633678 0.0002193908652670678 2.2400347467574792e-05 1.1083196809474055e-07 1.0610139373039251e-07 3.522218005766714e-05 0.00031347839653266094 1.8823015276429015e-06 2.759751215403676e-06 6.940650802820922e-09 6.3581913491245505e-09 2.810853394676266e-06 1.0437682991149095e-05 1.1354815610951052e-07 0.0001838385030949068 1.0895590613480354e-06 6.832326637946167e-09 2.8197696291427393e-05 4.614369900911918e-05 2.1120457638921944e-07 3.1954191501536833e-07 1.7729294507254118e-06 2.773338143546341e-06 0.014956938406993539 0.02784374154373548 0.0025637856753433544 0.004972222881402808 2.2879213330760757e-05 3.1460355466311795e-05 0.0005311488896289981 0.0010439180008353002 3.8512204707038975e-06 5.2734466951042815e-06 3.0431186078969393e-05 5.626988266047918e-05 0.0498806132342015 4.988061323420151e-07 7.731495051301235e-06 2.9928367940520904e-07 1.1871585949739958e-05 1.9952245293680603e-07 1.9952245293680603e-06 1.9952245293680603e-06 6.484479720446196e-07 4.239852124907128e-05 8.978510382156271e-07 5.486867455762165e-07 1.3467765573234405e-06 4.738658257249143e-05 2.543911274944277e-06 9.477316514498286e-07 1.5462990102602468e-06 6.933405239554009e-06 2.543911274944277e-06 7.531972598364427e-05 1.7458214631970528e-06 4.4892551910781356e-07 0.00025638635202379574 2.3443888220074707e-06 0.0001890475241576237 0.0008330062410111651 0.00022845320861264288 1.845582689665456e-06 6.484479720446196e-07 8.978510382156271e-07 1.5462990102602468e-06 6.484479720446196e-07 4.988061323420151e-05 9.477316514498286e-07 1.6011676848178684e-05 3.6911653793309116e-05 3.741045992565113e-07 3.541523539628307e-05 2.9928367940520904e-07 6.484479720446196e-07 5.486867455762165e-07 3.4916429263941055e-07 7.980898117472241e-07 5.985673588104181e-07 8.479704249814257e-07 
s:So/I123AveragedPhotons/BeamParticle = "gamma"
s:So/I123AveragedPhotons/Type = "Isotropic"
s:So/I123AveragedPhotons/Component = "WaterSphere"


# ------------ SCORING ------------ #
s:Sc/DosePointKernel/Quantity = "DoseToMedium"
s:Sc/DosePointKernel/Component = "WaterSphere"
s:Sc/DosePointKernel/OutputType = "CSV"
s:Sc/DosePointKernel/IfOutputFileAlreadyExists = "Overwrite"
s:Sc/DosePointKernel/OutputFile = "I123-DosePointKernel-10000nm"
sv:Sc/DosePointKernel/Report = 2 "Mean" "Standard_Deviation"

# ------------ PHYSICS ------------ #
sv:Ph/Default/Modules = 2 "g4em-livermore" "g4radioactivedecay"
d:Ph/Default/EMRangeMin = 100 eV
d:Ph/Default/SetProductionCutLowerEdge = 100 eV
d:Ph/Default/MaxStepSize = 1000. nm
b:Ph/Default/Fluorescence = "True"
b:Ph/Default/Auger = "True"
b:Ph/Default/AugerCascade = "True"
b:Ph/Default/DeexcitationIgnoreCut = "True"
d:Ph/Default/DefaultRegionForTheWorld/CutForAllParticles = 1 nm

# ------------ KEY ADJUSTABLES ------------ #

i:So/I123AveragedElectrons/NumberOfHistoriesInRun = 1000000
i:So/I123AveragedPhotons/NumberOfHistoriesInRun = 1000000


i:Ts/ShowHistoryCountAtInterval = 10000
i:Ts/NumberOfThreads = 8
i:Ts/seed = 501152494
b:Ts/ShowCPUTime = "True"
# ------------ GRAPHICS ------------ #
# b:Ts/PauseBeforeQuit = "True"
# s:Gr/MyGraphic1/Type = "OpenGL" # OpenGL, HepRep, VRML, DAWN, RayTracer, RayTracerX
# u:Gr/MyGraphic1/Zoom = 2. # increase to zoom in, decrease to zoom out
# d:Gr/MyGraphic1/Theta = 90. deg # view angle as in /vis/viewer/set/viewpointThetaPhi
# d:Gr/MyGraphic1/Phi = 0. deg # view angle as in /vis/viewer/set/viewpointThetaPhi
# u:Gr/MyGraphic1/TransX = 0. # move left or right in the view window
# u:Gr/MyGraphic1/TransY = 0. # move up or down in the view window
# s:Gr/MyGraphic1/Projection = "Perspective" # Defaults to "Orthogonal"
# d:Gr/MyGraphic1/PerspectiveAngle = 10. deg # Increase for stronger perspective effect
# i:Gr/MyGraphic1/WindowSizeX = 600
# i:Gr/MyGraphic1/WindowSizeY = 600
# i:Gr/MyGraphic1/WindowPosX = 0
# i:Gr/MyGraphic1/WindowPosY = 0
# # Remove hidden lines from wireframe geometries, like Geant4’s /vis/viewer/set/hiddenEdge
# b:Gr/MyGraphic1/HiddenLineRemovalForGeometry = "False"
# # Remove hidden trajectories lines from within geometries, like Geant4’s /vis/viewer/set/hiddenMarker
# b:Gr/MyGraphic1/HiddenLineRemovalForTrajectories = "False"
